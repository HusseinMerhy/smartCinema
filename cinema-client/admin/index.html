<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel - Smart Cinema</title>
    <link rel="stylesheet" href="admin.css">
</head>
<body>
    <header class="admin-header">
        <h1>Smart Cinema Admin Panel</h1>
        <nav id="admin-nav">
            <a href="#" class="admin-tab-link active" data-tab="movies">Movies</a>
            <a href="#" class="admin-tab-link" data-tab="showtimes">Showtimes</a>
            <a href="#" id="logout-btn-admin">Logout</a>
        </nav>
    </header>

    <main class="admin-container">
        <div id="movies" class="admin-tab-content active">
            <section class="admin-section">
                <h2 id="movie-form-title">Add New Movie</h2>
                <form id="add-movie-form" class="admin-form">
                    <input type="hidden" id="movie-id">
                    <div class="form-row">
                        <div class="form-group"><label for="title">Title</label><input type="text" id="title" required></div>
                        <div class="form-group"><label for="poster_url">Poster URL</label><input type="text" id="poster_url" placeholder="e.g., assets/images/movie.jpg"></div>
                    </div>
                    <div class="form-row">
                        <div class="form-group"><label for="genre">Genre</label><input type="text" id="genre"></div>
                        <div class="form-group"><label for="duration_minutes">Duration (mins)</label><input type="number" id="duration_minutes"></div>
                    </div>
                    <div class="form-row">
                        <div class="form-group"><label for="age_rating">Age Rating</label><input type="text" id="age_rating"></div>
                        <div class="form-group"><label for="release_date">Release Date</label><input type="date" id="release_date"></div>
                    </div>
                    <div class="form-group"><label for="description">Description</label><textarea id="description" rows="4"></textarea></div>
                    <div class="form-group-inline"><input type="checkbox" id="is_coming_soon"><label for="is_coming_soon">Is "Coming Soon"?</label></div>
                    <div class="form-actions">
                        <button type="submit" class="btn-submit">Add Movie</button>
                        <button type="button" id="cancel-edit-movie-btn" class="btn-cancel" style="display: none;">Cancel Edit</button>
                    </div>
                </form>
            </section>
            <section class="admin-section">
                <h2>Manage Movies</h2>
                <div id="movie-list-container"><p>Loading movies...</p></div>
            </section>
        </div>

        <div id="showtimes" class="admin-tab-content">
             <section class="admin-section">
                <h2 id="showtime-form-title">Add New Showtime</h2>
                <form id="add-showtime-form" class="admin-form">
                    <input type="hidden" id="showtime-id">
                    <div class="form-row">
                        <div class="form-group"><label for="showtime-movie">Select Movie</label><select id="showtime-movie" required></select></div>
                        <div class="form-group"><label for="showtime-hall">Select Hall</label><select id="showtime-hall" required></select></div>
                    </div>
                    <div class="form-row">
                        <div class="form-group"><label for="show-time">Show Date & Time</label><input type="datetime-local" id="show-time" required></div>
                        <div class="form-group"><label for="base-price">Base Price ($)</label><input type="number" step="0.01" id="base-price" required></div>
                        <div class="form-group"><label for="format">Format</label><input type="text" id="format" value="2D"></div>
                    </div>
                    <div class="form-actions">
                        <button type="submit" class="btn-submit">Add Showtime</button>
                        <button type="button" id="cancel-edit-showtime-btn" class="btn-cancel" style="display: none;">Cancel Edit</button>
                    </div>
                </form>
            </section>
            <section class="admin-section">
                <h2>Manage Showtimes</h2>
                <div id="showtime-list-container"><p>Loading showtimes...</p></div>
            </section>
        </div>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script type="module" src="../scripts/apiService.js"></script>
    <script type="module" src="../scripts/auth.js"></script>
    <script type="module" src="admin.js"></script>
</body>
</html>
